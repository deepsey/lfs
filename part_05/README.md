# –ß–∞—Å—Ç—å 5

## Chapter 7. Entering Chroot and Building Additional Temporary Tools

–ü–æ–¥–≥–æ—Ç–∞–≤–ª–∏–≤–∞–µ–º –∫–∞—Ç–∞–ª–æ–≥ $LFS —Ç–∞–∫–∏–º –æ–±—Ä–∞–∑–æ–º, —á—Ç–æ–±—ã –æ–Ω –æ—Ç–≤–µ—á–∞–ª —Ç—Ä–µ–±–≤–∞–Ω–∏–µ–º –∫–∞—Ç–∞–ª–æ–≥–∞ / –æ–±—ã—á–Ω–æ–π —Å–∏—Å—Ç–µ–º—ã linux. –ù–∞–ø—Ä–∏–º–µ—Ä, –Ω–∞–º –Ω—É–∂–Ω–æ —Å–æ–∑–¥–∞—Ç—å –∫–∞—Ç–∞–ª–æ–≥–∏ /dev, /proc, /sys –∏ –ø–æ–¥–∫–ª—é—á–∏—Ç—å –∏—Ö –∫–∞–∫ –∫–∞—Ç–∞–ª–æ–≥–∏ –Ω–∞—à–µ–π —Ä–µ–∞–ª—å–Ω–æ–π —Å–∏—Å—Ç–µ–º—ã.

–î–∞–ª–µ–µ –º—ã –±—É–¥–µ–º —Ä–∞–±–æ—Ç–∞—Ç—å –æ—Ç –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è root, –ø–æ—ç—Ç–æ–º—É –Ω–µ–æ–±—Ö–æ–¥–∏–º–æ —É–±–µ–¥–∏—Ç—å—Å—è, —á—Ç–æ —É —ç—Ç–æ–≥–æ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è –ø—Ä–æ–ø–∏—Å–∞–Ω–∞ –ø–µ—Ä–µ–º–µ–Ω–Ω–∞—è $LFS. –û–ø—Ä–µ–¥–µ–ª–∏–º –ø–µ—Ä–µ–º–µ–Ω–Ω—É—é $LFS –≤ —Ñ–∞–π–ª–µ .bashrc –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è root –∏–ª–∏ –≤ —Ñ–∞–π–ª–µ /etc/profile
```
export $LFS=/mnt/lfs
```
export - –ø–µ—Ä–µ–º–µ–Ω–Ω–∞—è –Ω–∞—Å–ª–µ–¥—É–µ—Ç—Å—è –≤ –¥–æ—á–µ—Ä–Ω–∏–µ –ø—Ä–æ—Ü–µ—Å—Å—ã  
–ú–µ–Ω—è–µ–º –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è –∫–∞—Ç–∞–ª–æ–≥–æ–≤ –Ω–∞ root
```
chown -R root:root $LFS/{usr,lib,var,etc,bin,sbin,tools}
case $(uname -m) in
x86_64) chown -R root:root $LFS/lib64 ;;
esac
```
### üî∑ –ü–æ–¥–≥–æ—Ç–∞–≤–ª–∏–≤–∞–µ–º –≤–∏—Ä—Ç—É–∞–ª—å–Ω—ã–µ —Ñ–∞–π–ª–æ–≤—ã–µ —Å–∏—Å—Ç–µ–º—ã

–°–æ–∑–¥–∞–µ–º –¥–∏—Ä–µ–∫—Ç–æ—Ä–∏–∏ –¥–ª—è —Ñ–∞–π–ª–æ–≤—ã—Ö —Å–∏—Å—Ç–µ–º
```
mkdir -pv $LFS/{dev,proc,sys,run}
.................................
mkdir: created directory '/mnt/lfs/dev'
mkdir: created directory '/mnt/lfs/proc'
mkdir: created directory '/mnt/lfs/sys'
mkdir: created directory '/mnt/lfs/run'
```
### üî∑ –°–æ–∑–¥–∞–µ–º —Ñ–∞–π–ª—ã —É—Å—Ç—Ä–æ–π—Å—Ç–≤

–°–æ–∑–¥–∞–µ–º —É—Å—Ç—Ä–æ–π—Å—Ç–≤–∞ console –∏ null
```
mknod -m 600 $LFS/dev/console c 5 1
mknod -m 666 $LFS/dev/null c 1 3
```

c 5 1 - –º–∞–∂–æ—Ä –∏ –º–∏–Ω–æ—Ä —á–∏—Å–ª–∞. 5 - —Å –¥—Ä–∞–π–≤–µ—Ä–æ–º –∫–∞–∫–æ–≥–æ —É—Å—Ç—Ä–æ–π—Å—Ç–≤–∞ –±—É–¥–µ—Ç –≤–∑–∞–∏–º–æ–¥–µ–π—Å—Ç–≤–æ–≤–∞—Ç—å —ç—Ç–æ—Ç —Ñ–∞–π–ª, 1 - —É–Ω–∏–∫–∞–ª—å–Ω—ã–π –Ω–æ–º–µ—Ä —É—Å—Ç—Ä–æ–π—Å—Ç–≤–∞. –ü–æ—Å–º–æ—Ç—Ä–µ—Ç—å —Å–ø–∏—Å–æ–∫ –Ω–∞—à–∏—Ö –º–∞–∂–æ—Ä–Ω—ã—Ö –Ω–æ–º–µ—Ä–æ–≤ –º–æ–∂–Ω–æ –≤ —Ñ–∞–π–ª–µ /proc/devices
```
cat /proc/devices
.....................
Character devices:                                                                                                                                                                           
  1 mem                                                                                                                                                                                      
  4 /dev/vc/0                                                                                                                                                                                
  4 tty                                                                                                                                                                                      
  4 ttyS                                                                                                                                                                                     
  5 /dev/tty
.....................
```




